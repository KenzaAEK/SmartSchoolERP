<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<body>
<div layout:fragment="content">
    <h3>Attendance: <span th:text="${subject.name}"></span></h3>

    <form th:action="@{/teacher/attendance/save}" method="post">
        <input type="hidden" name="subjectId" th:value="${subject.id}">

        <div class="mb-3 w-25">
            <label>Date</label>
            <input type="date" name="date" class="form-control" th:value="${today}" required>
        </div>

        <table class="table table-bordered">
            <thead class="table-light">
            <tr>
                <th>Student</th>
                <th>Mark Absent</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="s : ${students}">
                <td th:text="${s.lastName + ' ' + s.firstName}"></td>
                <td class="text-center">
                    <div class="form-check form-switch d-flex justify-content-center">
                        <!-- Si cochÃ©, l'ID est envoyÃ© dans la liste 'absentIds' -->
                        <input class="form-check-input" type="checkbox" name="absentIds" th:value="${s.id}">
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
        <button class="btn btn-warning w-100">Save Attendance</button>
    </form>
</div>
</body>
</html>